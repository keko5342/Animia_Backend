# 概要
本ツール『Animia』は自作ソフトウェア『listManager』を発展させたWebアプリです。
大学生時代にコミックマーケットのサークルチェックのために、Twitterのリスト機能を利用してイラストレータを管理している友人から 「リスト内のユーザが多くなってしまって困っているので整理したい」という要望を受け、リストを整理するソフトウェアの制作に取り組んだことがきっかけで作ったソフトウェアが元になっています。

現在は友人に使ってもらうだけでなく、多くの方々の要望にマッチしたサービスを作るために開発を続けています。
Twitterを使ってイラストを検索する人，エゴサーチを行う人，新しいクリエイターと出会いたい人の一助となることが目標です。

このツールでは以下のことができます。

 1.Twitterへのログイン  
 2.ユーザが保持しているリストの参照  
 3.リスト内ユーザが投稿した画像の参照  
 4.(実装予定)検索ワードによるユーザの検索  
 5.(実装予定)ユーザをリストに追加／削除  
 6.(実装予定)お気に入りユーザの設定  
 7.(実装予定)  

現時点では保持しているリスト内ユーザの画像を見ることくらいしかできませんが、今後はもっと機能を拡張していきます。
※本ツールの使用にはTwitterアカウントが必要です。

# 技術
恐らくフロントエンド編に目を通していると思うので、割愛します。  
（）を参照してください。

## バックエンド
バックエンドでは、Node.jsを採用しました。フレームワークとしてExpressを採用しています。

Expressを採用した理由は、メジャーで資料が多く見つかったこと。公式ドキュメントが丁寧であったことが大きいです。  
また、フロントエンドにJavaScriptを採用しているため、JSON周りの親和性の高さも評価しています。  
今回のツールの核となるTwitterAPIへのリクエストでは、PHPの方が有効なドキュメントを多く見つけることができるのでPHPとの2択だったのですが、
中身はHTTP通信なのでフロントエンドとの親和性を重視しました。

バックエンドサーバの機能は以下の通りです。認証サーバとAPIサーバの役割を兼ねています。
 1. 許可されたドメインからのリクエストの受信
 2. リクエストに添付されたJWTトークンの検証
 3. TwitterAPIへのリクエスト
 4. リクエスト結果を送信元ドメインにデータとして送信

Node.js以前にWebサーバを公開する経験が数回ほどしかなかったため、CORSやSSL化に手間取ることが多かったように感じます。  
ブラウザのバージョンアップによって必要な設定項目が増えていたりして苦戦しました。（Chrome）

ファイル構成に複雑な点はありません。server.jsが参照するファイル群がlibディレクトリに入っています。  
ファイル名にauth〇〇と付くものが認証に使うコード、fetch〇〇と付くものがAPI機能に使うものです。

バックエンドの開発では核となるTwitterAPIの振る舞いへの慣れがあったので、実装面では苦労はあまりありませんでした。  
一番苦労したのはSSL化でした。フロントエンドと比べれば苦労は少ない方です。

データベースにはMySQLを採用しています。  
現在はログインしたユーザのプロフィール情報しか保存していませんが、TwitterAPiにはリクエスト数の制限があるためリクエスト数を如何に減らすかという点がキモになってきます。  
リクエスト数が超過しやすい部分、多くなりやすい部分は限られているので、正しく問題点を見極め効率化に励みます。

